<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Baseå…¨å®¶æ¡¶ç¼–è§£ç å™¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --main-gradient: linear-gradient(120deg, #ffecd2 0%, #fcb69f 100%);
            --card-bg: rgba(255, 255, 255, 0.75);
            --glass-blur: 14px;
            --border-radius: 24px;
            --shadow: 0 6px 32px 0 rgba(151, 151, 151, 0.12);
            --border: 1.4px solid #fff6;
            --theme-accent: #fb6332;
            --theme-hover: #ffe1cf;
            --text-main: #222;
            --text-fade: #888;
            --font: 'Poppins', 'Helvetica Neue', 'sans-serif';
        }

        body {
            margin: 0;
            min-height: 100vh;
            background: var(--main-gradient);
            font-family: var(--font);
            color: var(--text-main);
            transition: background 1s;
            animation: rainbow-bg 14s linear infinite alternate;
        }

        @keyframes rainbow-bg {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 100vw 50vh;
            }
        }

        .header {
            text-align: center;
            font-size: 3.2rem;
            font-weight: 700;
            margin-top: 40px;
            background: linear-gradient(90deg, #fb6332, #feb47b, #fb6332 80%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            letter-spacing: 3px;
            user-select: none;
            animation: bg-title 3s ease-in-out infinite alternate;
        }

        @keyframes bg-title {
            from {
                letter-spacing: 2px;
            }

            to {
                letter-spacing: 10px;
            }
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 32px;
            margin: 0 auto 35px auto;
            max-width: 1100px;
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: var(--border);
            backdrop-filter: blur(var(--glass-blur));
            padding: 2rem;
            min-width: 320px;
            max-width: 410px;
            flex: 1 1 360px;
            transition: box-shadow .22s cubic-bezier(.4, 1.4, .4, 1), transform .22s;
            position: relative;
            overflow: hidden;
            margin-bottom: 32px;
            outline: 0 solid var(--theme-accent);
            z-index: 1;
        }

        .card:hover {
            outline: 5px solid var(--theme-hover);
            box-shadow: 0 10px 40px 4px #fff4, 0 6px 40px 0 #fdcdaf99;
            transform: scale(1.04);
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--theme-accent);
            letter-spacing: .4px;
            margin-bottom: 15px;
        }

        .base-select-group {
            display: flex;
            gap: .8rem;
            margin-bottom: .9rem;
            flex-wrap: wrap;
        }

        .base-button {
            background: none;
            border: 2px solid transparent;
            padding: .33em .9em;
            border-radius: 32px;
            color: var(--theme-accent);
            font-weight: bold;
            cursor: pointer;
            transition: background .18s, border .2s, color .1s;
            font-size: .98em;
            user-select: none;
        }

        .base-button.active,
        .base-button:hover {
            background: var(--theme-hover);
            border: 2px solid var(--theme-accent);
        }

        .textarea-group {
            position: relative;
            margin-bottom: 1.1rem;
        }

        .textarea {
            width: 100%;
            box-sizing: border-box;
            min-height: 72px;
            resize: vertical;
            font: inherit;
            font-size: 1.18rem;
            border-radius: 13px;
            border: 1.2px solid #fff7;
            background: rgba(255, 255, 255, 0.52);
            padding: .7em .8em;
            box-shadow: 0 2px 12px 0 #fdcdaf13;
            margin-bottom: 5px;
            transition: border .2s, box-shadow .2s;
            color: #111;
            outline: none;
        }

        .textarea:focus {
            border: 2px solid var(--theme-accent);
            box-shadow: 0 0 24px 0 #fb633244;
        }

        .code-output {
            background: rgba(255, 251, 240, 0.7);
            border-radius: 11px;
            font-family: 'Fira Mono', 'JetBrains Mono', monospace;
            padding: .7em .8em;
            margin-top: .5em;
            margin-bottom: 0;
            min-height: 57px;
            border: 1.2px solid #ffe6db;
            position: relative;
            transition: border .2s;
            word-break: break-all;
            font-size: 1.09rem;
            color: var(--theme-accent);
        }

        .copy-btn {
            position: absolute;
            right: 9px;
            top: 7px;
            background: #fff2e0de;
            border: none;
            border-radius: 7px;
            padding: 3px 9px 3px 9px;
            font-family: inherit;
            font-size: .93em;
            cursor: pointer;
            color: #fb6332;
            font-weight: 600;
            box-shadow: 0 2px 6px #fcb69f33;
            transition: background .17s;
        }

        .copy-btn:hover {
            background: #fcb69f66;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.3em;
        }

        .action-btn {
            background: linear-gradient(93deg, #fb6332, #ff9966);
            color: #fff;
            font-size: 1.12em;
            font-weight: bold;
            border: none;
            border-radius: 16px;
            box-shadow: 0 3px 14px #feb47b2b;
            padding: 0.66em 1.3em;
            cursor: pointer;
            transition: box-shadow .16s, background .23s, transform .08s;
            outline: none;
        }

        .action-btn:hover {
            transform: translateY(-2px) scale(1.025);
            background: linear-gradient(114deg, #ffb88c, #fb6332);
        }

        .tips {
            font-size: .97em;
            color: var(--text-fade);
            margin-top: .4em;
            margin-bottom: .1em;
            opacity: .93;
            user-select: none;
        }

        footer {
            margin-bottom: 22px;
            color: #b88450;
            text-align: center;
            font-size: 1.02rem;
            opacity: .8;
            letter-spacing: .6px;
            font-family: var(--font);
        }

        .glass-shine {
            position: absolute;
            left: -30%;
            top: -30%;
            width: 180%;
            height: 280%;
            background: linear-gradient(115deg, rgba(255, 255, 255, 0.19) 28%, rgba(255, 180, 128, 0.11) 70%);
            pointer-events: none;
            z-index: 0;
            filter: blur(14px);
            animation: shine-move 4.4s cubic-bezier(.7, .1, .2, .9) infinite alternate;
        }

        @keyframes shine-move {
            from {
                transform: rotate(-12deg) scale(1);
            }

            to {
                transform: rotate(8deg) scale(1.03);
            }
        }

        @media (max-width: 850px) {
            .container {
                flex-direction: column;
                gap: 0;
            }

            .card {
                margin-top: 0;
                margin-bottom: 22px;
                max-width: 99vw;
            }
        }

        ::-webkit-scrollbar {
            height: 10px;
            width: 8px;
            background: #ffecd2a1;
        }

        ::-webkit-scrollbar-thumb {
            background: #fcb69fcf;
            border-radius: 7px;
        }
    </style>
</head>

<body>
    <div class="header">Baseå®¶æ—Â·å…¨èƒ½æè‡´ä½“éªŒ</div>
    <div class="container">
        <div class="card" id="base-card">
            <div class="glass-shine"></div>
            <div class="card-title">
                ğŸ”— Base ç¼–è§£ç <br><span style="font-size:0.84em;font-weight:400;color:#b88450;">å…¨å¹³å°æ”¯æŒï¼Œéšå¿ƒé€‰æ‹©</span>
            </div>
            <div class="base-select-group" id="base-types"></div>
            <div class="textarea-group">
                <textarea class="textarea" id="inputText" placeholder="åœ¨è¿™é‡Œè¾“å…¥éœ€è¦ç¼–/è§£ç çš„å†…å®¹..."></textarea>
            </div>
            <div class="action-buttons">
                <button class="action-btn" id="encodeBtn">ğŸ”¥ ç¼–ç  Encode</button>
                <button class="action-btn" id="decodeBtn">ğŸ‰ è§£ç  Decode</button>
            </div>
            <div class="tips" id="actionMsg"></div>
            <div class="textarea-group" style="margin-top:1.25rem;">
                <span class="tips">
                    è¾“å‡ºç»“æœ
                    <button class="copy-btn" id="copyBtn" title="å¤åˆ¶è¾“å‡ºæ•°æ®~">å¤åˆ¶</button>
                </span>
                <div class="code-output" id="outputText"></div>
            </div>
        </div>
    </div>
    <footer>
        ğŸš€ Base16/32/36/58/62/64/85å…¨é¢æ”¯æŒ | Made with â¤ï¸ by Copilot & wudiloveyh
    </footer>
    <script>
        // baseå®¶æ—å¸¸ç”¨å®ç° (å«è‡ªå®šä¹‰ç¼–ç è¡¨å’Œç”¨é€”æ³¨é‡Š)
        const baseTypes = [
            { name: 'Base16', value: 'base16', desc: 'åå…­è¿›åˆ¶', icon: 'ğŸ”¶' }, //hex
            { name: 'Base32', value: 'base32', desc: 'å¸¸è§äºTOTP', icon: 'ğŸ§©' },
            { name: 'Base36', value: 'base36', desc: 'å­—æ¯æ•°å­—çŸ­ç ', icon: 'ğŸ§ƒ' },
            { name: 'Base58', value: 'base58', desc: 'åŒºå—é“¾/æ¯”ç‰¹å¸', icon: 'â›“ï¸' },
            { name: 'Base62', value: 'base62', desc: 'çŸ­é“¾ID/é‚€è¯·ç ', icon: 'ğŸ”¢' },
            { name: 'Base64', value: 'base64', desc: 'æœ€å¸¸è§çš„ä¼ è¾“', icon: 'ğŸŒ' },
            { name: 'Base85', value: 'base85', desc: 'é«˜æ•ˆç¼–ç ', icon: 'ğŸ§¬' },
        ];
        // ç¼–ç è¡¨: base58, base62ç­‰
        const ALPHABET = {
            base58: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz',
            base62: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',
        };
        function toUtf8Bytes(str) {
            return new TextEncoder().encode(str);
        }
        function fromUtf8Bytes(bytes) {
            return new TextDecoder().decode(Uint8Array.from(bytes));
        }
        // base16å®ç°
        function encodeBase16(text) {
            return Array.from(toUtf8Bytes(text)).map(b => b.toString(16).padStart(2, '0')).join('');
        }
        function decodeBase16(text) {
            if (!/^([a-fA-F0-9]{2})+$/.test(text)) throw 'è¾“å…¥ä¸æ˜¯åˆæ³•base16ç¼–ç ';
            return fromUtf8Bytes(text.match(/.{2}/g).map(x => parseInt(x, 16)));
        }
        // base32 RFC4648æ ‡å‡†
        function encodeBase32(text) {
            const ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";
            let bytes = toUtf8Bytes(text), out = "", bits = 0, val = 0;
            for (let i = 0; i < bytes.length; i++) {
                val = (val << 8) | bytes[i], bits += 8;
                while (bits >= 5) out += ALPHABET[(val >>> (bits -= 5)) & 31];
            }
            if (bits > 0) out += ALPHABET[(val << (5 - bits)) & 31];
            while (out.length % 8) out += '=';
            return out;
        }
        function decodeBase32(str) {
            const ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";
            let cleaned = str.replace(/=+$/, "").toUpperCase(), bits = 0, val = 0, idx = 0;
            let out = [];
            for (let char of cleaned) {
                let t = ALPHABET.indexOf(char);
                if (t === -1) continue;
                val = (val << 5) | t; bits += 5;
                if (bits >= 8) out.push((val >>> (bits -= 8)) & 255);
            }
            return fromUtf8Bytes(out);
        }
        // base36
        function encodeBase36(text) {
            let b = toUtf8Bytes(text), n = BigInt('0x' + Array.from(b).map(x => x.toString(16).padStart(2, '0')).join(''));
            return n.toString(36);
        }
        function decodeBase36(text) {
            let n;
            try {
                n = BigInt('0x' + BigInt(parseInt(text, 36)).toString(16));
            } catch {
                throw "è¾“å…¥ä¸æ˜¯åˆæ³•base36ç¼–ç ";
            }
            let hex = n.toString(16); if (hex.length % 2) hex = '0' + hex;
            let out = []; for (let i = 0; i < hex.length; i += 2)out.push(parseInt(hex.slice(i, i + 2), 16));
            return fromUtf8Bytes(out);
        }
        // base58
        function encodeBase58(text) {
            let bytes = toUtf8Bytes(text);
            let n = BigInt('0x' + Array.from(bytes).map(x => x.toString(16).padStart(2, '0')).join(''));
            let chars = ALPHABET.base58, res = '';
            while (n > 0) {
                res = chars[n % 58n] + res; n /= 58n;
            }
            for (let b of bytes) if (b) break; else res = '1' + res;
            return res;
        }
        function decodeBase58(str) {
            let chars = ALPHABET.base58, n = 0n;
            for (let c of str) {
                let idx = chars.indexOf(c);
                if (idx < 0) throw "è¾“å…¥ä¸æ˜¯åˆæ³•base58ç¼–ç ";
                n = n * 58n + BigInt(idx);
            }
            let hex = n.toString(16);
            if (hex.length % 2) hex = '0' + hex;
            let out = [];
            for (let i = 0; i < hex.length; i += 2) out.push(parseInt(hex.slice(i, i + 2), 16));
            return fromUtf8Bytes(out);
        }
        // base62
        function encodeBase62(text) {
            let bytes = toUtf8Bytes(text);
            let n = BigInt('0x' + Array.from(bytes).map(x => x.toString(16).padStart(2, '0')).join(''));
            let chars = ALPHABET.base62, res = '';
            while (n > 0) {
                res = chars[n % 62n] + res; n /= 62n;
            }
            for (let b of bytes) if (b) break; else res = '0' + res;
            return res;
        }
        function decodeBase62(str) {
            let chars = ALPHABET.base62, n = 0n;
            for (let c of str) {
                let idx = chars.indexOf(c);
                if (idx < 0) throw "è¾“å…¥ä¸æ˜¯åˆæ³•base62ç¼–ç ";
                n = n * 62n + BigInt(idx);
            }
            let hex = n.toString(16);
            if (hex.length % 2) hex = '0' + hex;
            let out = []; for (let i = 0; i < hex.length; i += 2)out.push(parseInt(hex.slice(i, i + 2), 16));
            return fromUtf8Bytes(out);
        }
        // base64
        function encodeBase64(text) {
            return btoa(unescape(encodeURIComponent(text)));
        }
        function decodeBase64(text) {
            try {
                return decodeURIComponent(escape(atob(text)));
            } catch (e) {
                throw 'è¾“å…¥ä¸æ˜¯åˆæ³•base64ç¼–ç ';
            }
        }
        // base85 (ascii85 RFC1924, ä»…æœ€ç®€å•å®ç°)
        function encodeBase85(text) {
            const alphabet = '!#$%&()*+-;<=>?@^_`{|}~0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            let bytes = toUtf8Bytes(text), n = BigInt('0x' + Array.from(bytes).map(x => x.toString(16).padStart(2, '0')).join('')), out = '';
            while (n > 0) {
                out = alphabet[n % 85n] + out; n /= 85n;
            }
            return out;
        }
        function decodeBase85(str) {
            const alphabet = '!#$%&()*+-;<=>?@^_`{|}~0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            let n = 0n;
            for (let c of str) {
                let idx = alphabet.indexOf(c);
                if (idx < 0) throw "è¾“å…¥ä¸æ˜¯åˆæ³•base85ç¼–ç ";
                n = n * 85n + BigInt(idx);
            }
            let hex = n.toString(16);
            if (hex.length % 2) hex = '0' + hex;
            let out = []; for (let i = 0; i < hex.length; i += 2)out.push(parseInt(hex.slice(i, i + 2), 16));
            return fromUtf8Bytes(out);
        }
        const ENCODERS = {
            base16: [encodeBase16, decodeBase16],
            base32: [encodeBase32, decodeBase32],
            base36: [encodeBase36, decodeBase36],
            base58: [encodeBase58, decodeBase58],
            base62: [encodeBase62, decodeBase62],
            base64: [encodeBase64, decodeBase64],
            base85: [encodeBase85, decodeBase85],
        };

        // ç”Ÿæˆbaseç±»å‹æŒ‰é’®
        const baseSel = document.getElementById('base-types');
        let activeType = 'base64';
        baseTypes.forEach(item => {
            const btn = document.createElement('button');
            btn.className = 'base-button'; btn.innerHTML = `${item.icon} ${item.name}`;
            btn.title = item.desc;
            btn.dataset.type = item.value;
            if (item.value === activeType) btn.classList.add('active');
            btn.onclick = () => {
                for (let el of baseSel.querySelectorAll('.base-button')) el.classList.remove('active');
                btn.classList.add('active');
                activeType = item.value;
                showTips(`åˆ‡æ¢åˆ° <b>${item.name}</b>ï¼Œ${item.desc}ã€‚`);
            };
            baseSel.appendChild(btn);
        });

        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const encodeBtn = document.getElementById('encodeBtn');
        const decodeBtn = document.getElementById('decodeBtn');
        const actionMsg = document.getElementById('actionMsg');
        const copyBtn = document.getElementById('copyBtn');

        // åŠ¨ç”»+é«˜äº®tips
        function showTips(msg) {
            actionMsg.innerHTML = msg;
            actionMsg.animate([{ opacity: 0.4 }, { opacity: 1 }], { duration: 340 });
        }
        function showOutput(text) {
            outputText.textContent = text;
            outputText.animate([{ background: '#ffe6db' }, { background: '#fffbea' }], { duration: 220 });
        }
        function handleCopy() {
            navigator.clipboard.writeText(outputText.textContent);
            copyBtn.innerText = 'å·²å¤åˆ¶!';
            setTimeout(() => copyBtn.innerText = 'å¤åˆ¶', 1200);
        }

        // æ›´å‹å¥½çš„é”™è¯¯å±•ç¤º
        function showError(e, isDecode = false) {
            let msg = String(e);
            if (msg.includes("atob") || msg.includes("InvalidCharacterError"))
                msg = "è§£ç å¤±è´¥ï¼Œå¯èƒ½è¾“å…¥ä¸æ˜¯åˆæ³•çš„ç¼–ç æ–‡æœ¬ã€‚";
            else if (/éæ³•|invalid|illegal/i.test(msg))
                msg = "è¾“å…¥å†…å®¹ä¸æ˜¯å½“å‰ Base ç±»å‹çš„åˆæ³•ç¼–ç ï¼Œè¯·æ£€æŸ¥ã€‚";
            else if (/BigInt/.test(msg))
                msg = "è¾“å…¥å†…å®¹è¿‡é•¿ï¼Œæš‚ä¸æ”¯æŒæå¤§æ–‡æœ¬çš„è½¬æ¢ã€‚";
            else if (isDecode)
                msg = "è§£ç å¤±è´¥ï¼Œè¯·ç¡®è®¤è¾“å…¥å†…å®¹æ˜¯åˆæ³•çš„ç¼–ç ã€‚";
            else
                msg = "æ“ä½œå‡ºé”™ï¼Œè¯·æ£€æŸ¥è¾“å…¥æˆ–ç¨åå†è¯•ã€‚";
            showTips(msg);
        }

        // äº‹ä»¶
        encodeBtn.onclick = () => {
            try {
                const fn = ENCODERS[activeType][0];
                showOutput(fn(inputText.value));
                showTips('ç¼–ç æˆåŠŸ âœ¨');
            } catch (e) {
                showError(e);
            }
        };
        decodeBtn.onclick = () => {
            try {
                const fn = ENCODERS[activeType][1];
                let result = fn(inputText.value);
                showOutput(result);
                showTips('è§£ç æˆåŠŸ ğŸ‰');
            } catch (e) {
                showError(e, true);
            }
        };
        copyBtn.onclick = handleCopy;

        inputText.onfocus = () => inputText.style.background = '#fffcea';
        inputText.onblur = () => inputText.style.background = 'rgba(255,255,255,0.52)';
        inputText.oninput = () => {
            showTips('è¾“å…¥å·²ä¿®æ”¹ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®è¿›è¡Œæ“ä½œã€‚');
            outputText.textContent = '';
        };

        showTips('é€‰æ‹©Baseç±»å‹å¹¶è¾“å…¥å†…å®¹ï¼Œç„¶åç‚¹å‡»â€œç¼–ç â€æˆ–â€œè§£ç â€å§ï¼');
    </script>
</body>

</html>